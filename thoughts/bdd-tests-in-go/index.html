<!DOCTYPE html>
<html lang="en">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  
    <title>Behavior-Driven Development in Go :: Mwita (~$)</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="" />
<meta name="keywords" content="blog,developer,personal" />

  <meta name="robots" content="noodp" />

<link rel="canonical" href="http://localhost:1313/thoughts/bdd-tests-in-go/" />





  
  <link rel="stylesheet" href="http://localhost:1313/css/custom.min.bf1abe82ab5689e52ba3a1ce7d609228a391cd774593dfffe0bb25757c7ff5dc.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/buttons.min.86f6b4c106b6c6eb690ae5203d36b442c1f66f718ff4e8164fa86cf6c61ad641.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/code.min.d529ea4b2fb8d34328d7d31afc5466d5f7bc2f0bc9abdd98b69385335d7baee4.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/fonts.min.5bb7ed13e1d00d8ff39ea84af26737007eb5051b157b86fc24487c94f3dc8bbe.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/footer.min.eb8dfc2c6a7eafa36cd3ba92d63e69e849e2200e0002a228d137f236b09ecd75.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/gist.min.a751e8b0abe1ba8bc53ced52a38b19d8950fe78ca29454ea8c2595cf26aad5c0.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/header.min.75c7eb0e2872d95ff48109c6647d0223a38db52e2561dd87966eb5fc7c6bdac6.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/main.min.36833afd348409fc6c3d09d0897c5833d9d5bf1ff31f5e60ea3ee42ce2b1268c.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/menu.min.3c17467ebeb3d38663dce68f71f519901124fa5cbb4519b2fb0667a21e9aca39.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/pagination.min.bbb986dbce00a5ce5aca0504b7925fc1c581992a4bf57f163e5d69cc1db7d836.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/post.min.e6dddd258e64c83e05cec0cd49c05216742d42fc8ecbfbe6b67083412b609bd3.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/syntax.min.a0773cce9310cb6d8ed23e50f005448facf29a53001b57e038828daa466b25c0.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/terminal.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css">

  
  <link rel="stylesheet" href="http://localhost:1313/css/terms.min.b81791663c3790e738e571cdbf802312390d30e4b1d8dc9d814a5b5454d0ac11.css">







<link rel="shortcut icon" href="http://localhost:1313/favicon.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">


<meta name="twitter:card" content="summary" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Behavior-Driven Development in Go">
<meta property="og:description" content="" />
<meta property="og:url" content="http://localhost:1313/thoughts/bdd-tests-in-go/" />
<meta property="og:site_name" content="Mwita (~$)" />

  <meta property="og:image" content="http://localhost:1313/og-image.png">

<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="627">













</head>
<body>


<div class="container">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="http://localhost:1313/">
  <div class="logo">
    Terminal
  </div>
</a>

    </div>
    
      <ul class="menu menu--mobile">
  <li class="menu__trigger">Menu&nbsp;▾</li>
  <li>
    <ul class="menu__dropdown">
      
        
          <li><a href="/cv/">CV</a></li>
        
      
        
          <li><a href="/projects/">Projects</a></li>
        
      
        
          <li><a href="/thoughts/">Thoughts</a></li>
        
      
        
          <li><a href="/contact/">Contact</a></li>
        
      
      
    </ul>
  </li>
</ul>

    
    
  </div>
  
    <nav class="navigation-menu">
  <ul class="navigation-menu__inner menu--desktop">
    
      
        
          <li><a href="/cv/" >CV</a></li>
        
      
        
          <li><a href="/projects/" >Projects</a></li>
        
      
        
          <li><a href="/thoughts/" >Thoughts</a></li>
        
      
        
          <li><a href="/contact/" >Contact</a></li>
        
      
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<article class="post">
  <h1 class="post-title">
    <a href="http://localhost:1313/thoughts/bdd-tests-in-go/">Behavior-Driven Development in Go</a>
  </h1>
  <div class="post-meta"><span class="post-author">Mike Mwita</span><span class="post-reading-time">5 min read (871 words)</span></div>

  
  


  

  <div class="post-content"><div>
        <p>Testing is often seen as a technical safeguard — a way to ensure code correctness.
But what if tests could do more than that?
What if they could express intent, document behavior, and communicate meaning across developers, testers, and product owners alike?</p>
<h2 id="introduction">Introduction<a href="#introduction" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<p>That’s the promise of <strong>Behavior-Driven Development (BDD)</strong> — a practice that elevates testing from verifying logic to describing how the system behaves.</p>
<p>In Go, the tool that brings this philosophy to life is <strong>GoDog</strong>,
the Cucumber-inspired framework for writing executable specifications using natural-language syntax.</p>
<p>Yet before diving into GoDog, here is my thoughton a  long-standing misconception I have come across multiple times:
<strong>BDD is not about Gherkin syntax — it’s a mindset.</strong></p>
<h3 id="bdd-is-not-gherkin--its-a-mindset">BDD Is Not Gherkin — It’s a Mindset<a href="#bdd-is-not-gherkin--its-a-mindset" class="hanchor" ariaLabel="Anchor">#</a> </h3>
<p>BDD was introduced by <strong>Dan North</strong> in 2003 as an evolution of Test-Driven Development (TDD).
He noticed that teams often struggled with TDD because the term “test” implied verification, not behavioral design.</p>
<p>BDD reframed the question:</p>
<blockquote>
<p>Instead of How do I test this function? ask What behavior am I expecting from the system?</p>
</blockquote>
<p>If I was to summarize it in one sentence:</p>
<p><strong>BDD is TDD done right.</strong></p>
<p>Nothing stops you from writing non-BDD tests with Gherkin.The syntax doesn’t make your tests behavioral — your mindset does.</p>
<p>If your Gherkin scenarios simply mirror technical operations (<code>click button, expect 200 OK</code>), you’re missing the spirit of BDD.
But when you use it to express intent (<code>user should see confirmation when signup succeeds</code>), you’re speaking the language of behavior.</p>
<p>So let’s explore how to do that right.</p>
<h2 id="understanding-the-gherkin-syntax">Understanding the Gherkin Syntax<a href="#understanding-the-gherkin-syntax" class="hanchor" ariaLabel="Anchor">#</a> </h2>
<p>Gherkin is a structured, readable way to describe system behavior using a few key keywords:</p>
<table>
  <thead>
      <tr>
          <th><strong>Keyword</strong></th>
          <th><strong>Purpose</strong></th>
          <th><strong>Example</strong></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Feature</td>
          <td>Describes a system capability</td>
          <td><code>Feature: User authentication</code></td>
      </tr>
      <tr>
          <td>Scenario</td>
          <td>Describes one example of behavior</td>
          <td><code>Scenario: Successful login</code></td>
      </tr>
      <tr>
          <td>Given</td>
          <td>Precondition/setup</td>
          <td><code>Given a user exists</code></td>
      </tr>
      <tr>
          <td>When</td>
          <td>Action performed</td>
          <td><code>When the user logs in</code></td>
      </tr>
      <tr>
          <td>Then</td>
          <td>Expected outcome</td>
          <td><code>Then they should see their dashboard</code></td>
      </tr>
      <tr>
          <td>And / But</td>
          <td>Logical connectors</td>
          <td><code>And they should receive a welcome message</code></td>
      </tr>
  </tbody>
</table>
<h1 id="a-simple-example">A Simple Example<a href="#a-simple-example" class="hanchor" ariaLabel="Anchor">#</a> </h1>
<p>Here’s a simple example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">Feature</span><span class="p">:</span><span class="w"> </span><span class="l">Shopping Basket</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">Scenario</span><span class="p">:</span><span class="w"> </span><span class="l">Adding a product</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="l">Given I have an empty basket</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="l">When I add &#34;2&#34; &#34;Apples&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="l">Then the basket total should be &#34;2&#34;</span><span class="w">
</span></span></span></code></pre></div><ul>
<li>This is a story behaviour that anyone can understand</li>
</ul>
<h1 id="introducing-godog">Introducing GoDog<a href="#introducing-godog" class="hanchor" ariaLabel="Anchor">#</a> </h1>
<p><strong>GoDog</strong> is the Cucumber for Go — it executes your <code>.feature</code> files by mapping each step to Go functions called <strong>step definitions</strong>.</p>
<p>A typical GoDog project has this structure:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">project</span><span class="o">/</span>
</span></span><span class="line"><span class="cl"><span class="err">├──</span> <span class="nx">features</span><span class="o">/</span>
</span></span><span class="line"><span class="cl"><span class="err">│</span>   <span class="err">├──</span> <span class="nx">signin</span><span class="p">.</span><span class="nx">feature</span>
</span></span><span class="line"><span class="cl"><span class="err">│</span>   <span class="err">└──</span> <span class="nx">signup</span><span class="p">.</span><span class="nx">feature</span>
</span></span><span class="line"><span class="cl"><span class="err">├──</span> <span class="nx">steps</span><span class="o">/</span>
</span></span><span class="line"><span class="cl"><span class="err">│</span>   <span class="err">└──</span> <span class="nx">auth_steps_test</span><span class="p">.</span><span class="k">go</span>
</span></span><span class="line"><span class="cl"><span class="err">└──</span> <span class="k">go</span><span class="p">.</span><span class="nx">mod</span>
</span></span></code></pre></div><p>Below is a realworld BDD feature , referenced from one of my <a href="https://github.com/MikeMwita/fedha/blob/main/features/signin.feature">repo</a></p>
<h1 id="signinfeature">signin.feature<a href="#signinfeature" class="hanchor" ariaLabel="Anchor">#</a> </h1>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-gherkin" data-lang="gherkin"><span class="line"><span class="cl"><span class="k">Feature:</span><span class="nf"> Signin Feature
</span></span></span><span class="line"><span class="cl"><span class="nf">  I want to Signin to Fedha API
</span></span></span><span class="line"><span class="cl"><span class="nf">
</span></span></span><span class="line"><span class="cl"><span class="nf">  </span><span class="k">Background:</span><span class="nf">
</span></span></span><span class="line"><span class="cl"><span class="nf"></span><span class="k">    Given </span><span class="nf">user detail:
</span></span></span><span class="line"><span class="cl"><span class="nf"></span><span class="k">      |</span><span class="s">name</span><span class="k">         |</span><span class="s">email</span><span class="k">             |</span><span class="s">password</span><span class="k">|
</span></span></span><span class="line"><span class="cl"><span class="k">      |</span><span class="s">Jonathan Doe</span><span class="k"> |</span><span class="s">johndoe@mail.com</span><span class="k">  |</span><span class="s">abcdefg</span><span class="k"> |</span><span class="nf">
</span></span></span><span class="line"><span class="cl"><span class="nf">    </span><span class="k">Given </span><span class="nf">I have load fedha application
</span></span></span><span class="line"><span class="cl"><span class="nf">    </span><span class="k">And </span><span class="nf">the fields &#34;</span><span class="s">email</span><span class="nf">&#34; and &#34;</span><span class="s">password</span><span class="nf">&#34; are empty
</span></span></span><span class="line"><span class="cl"><span class="nf">
</span></span></span><span class="line"><span class="cl"><span class="nf">  </span><span class="k">Scenario:</span><span class="nf"> Error on empty fields
</span></span></span><span class="line"><span class="cl"><span class="nf"></span><span class="k">    When </span><span class="nf">I click on &#34;</span><span class="s">Sign In</span><span class="nf">&#34;
</span></span></span><span class="line"><span class="cl"><span class="nf">    </span><span class="k">And </span><span class="nf">both fields &#34;</span><span class="s">email</span><span class="nf">&#34; and &#34;</span><span class="s">password</span><span class="nf">&#34; have errors
</span></span></span><span class="line"><span class="cl"><span class="nf">    </span><span class="k">Then </span><span class="nf">failed to login
</span></span></span><span class="line"><span class="cl"><span class="nf">
</span></span></span><span class="line"><span class="cl"><span class="nf">  </span><span class="k">Scenario:</span><span class="nf"> Login Successful
</span></span></span><span class="line"><span class="cl"><span class="nf"></span><span class="k">    When </span><span class="nf">I type &#34;</span><span class="s">email</span><span class="nf">&#34; and &#34;</span><span class="s">password</span><span class="nf">&#34;
</span></span></span><span class="line"><span class="cl"><span class="nf">    </span><span class="k">And </span><span class="nf">I click on &#34;</span><span class="s">Sign In</span><span class="nf">&#34;
</span></span></span><span class="line"><span class="cl"><span class="nf">    </span><span class="k">Then </span><span class="nf">the user name should be &#34;</span><span class="s">Jonathan Doe</span><span class="nf">&#34;
</span></span></span></code></pre></div><h3 id="implementing-step-definitions">Implementing Step Definitions<a href="#implementing-step-definitions" class="hanchor" ariaLabel="Anchor">#</a> </h3>
<ul>
<li>Each line in a .feature file maps to a Go function.For instance:</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">a</span> <span class="o">*</span><span class="nx">App</span><span class="p">)</span> <span class="nf">iClickOn</span><span class="p">(</span><span class="nx">button</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">error</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nx">button</span> <span class="o">==</span> <span class="s">&#34;Sign In&#34;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">a</span><span class="p">.</span><span class="nx">response</span> <span class="p">=</span> <span class="nx">a</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nf">SignIn</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">email</span><span class="p">,</span> <span class="nx">a</span><span class="p">.</span><span class="nx">password</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">a</span> <span class="o">*</span><span class="nx">App</span><span class="p">)</span> <span class="nf">userNameShouldBe</span><span class="p">(</span><span class="nx">expected</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">error</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nx">a</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">Name</span> <span class="o">!=</span> <span class="nx">expected</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Errorf</span><span class="p">(</span><span class="s">&#34;expected user name %s, got %s&#34;</span><span class="p">,</span> <span class="nx">expected</span><span class="p">,</span> <span class="nx">a</span><span class="p">.</span><span class="nx">user</span><span class="p">.</span><span class="nx">Name</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>And these are registered in the FeatureContext:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">FeatureContext</span><span class="p">(</span><span class="nx">s</span> <span class="o">*</span><span class="nx">godog</span><span class="p">.</span><span class="nx">Suite</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">app</span> <span class="o">:=</span> <span class="nf">NewApp</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="nx">s</span><span class="p">.</span><span class="nf">Step</span><span class="p">(</span><span class="s">`^I click on &#34;([^&#34;]*)&#34;$`</span><span class="p">,</span> <span class="nx">app</span><span class="p">.</span><span class="nx">iClickOn</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">s</span><span class="p">.</span><span class="nf">Step</span><span class="p">(</span><span class="s">`^the user name should be &#34;([^&#34;]*)&#34;$`</span><span class="p">,</span> <span class="nx">app</span><span class="p">.</span><span class="nx">userNameShouldBe</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>When you run godog run, GoDog reads your .feature files and executes the mapped step definitions.</p>
<h3 id="managing-shared-state-between-steps">Managing Shared State Between Steps<a href="#managing-shared-state-between-steps" class="hanchor" ariaLabel="Anchor">#</a> </h3>
<p>One of the trickiest challenges in BDD testing is sharing state between steps.</p>
<p>For example, your <code>Given</code> step might set up a user, and your <code>When</code> step needs to act on that same user.
If you use global variables, you’ll quickly run into concurrency issues.</p>
<ul>
<li>The recommended pattern is to use <code>context.Context</code> and a custom struct.</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">SharedState</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Email</span>    <span class="kt">string</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Password</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Response</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">sharedKey</span> <span class="p">=</span> <span class="kd">struct</span><span class="p">{}{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">getSharedState</span><span class="p">(</span><span class="nx">ctx</span> <span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span> <span class="o">*</span><span class="nx">SharedState</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">v</span> <span class="o">:=</span> <span class="nx">ctx</span><span class="p">.</span><span class="nf">Value</span><span class="p">(</span><span class="nx">sharedKey</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nx">v</span> <span class="o">==</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">v</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">SharedState</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">        <span class="nx">ctx</span> <span class="p">=</span> <span class="nx">context</span><span class="p">.</span><span class="nf">WithValue</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="nx">sharedKey</span><span class="p">,</span> <span class="nx">v</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">ctx</span><span class="p">,</span> <span class="nx">v</span><span class="p">.(</span><span class="o">*</span><span class="nx">SharedState</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>Then, use this inside your steps:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">givenUserDetail</span><span class="p">(</span><span class="nx">ctx</span> <span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">email</span><span class="p">,</span> <span class="nx">password</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">ctx</span><span class="p">,</span> <span class="nx">state</span> <span class="o">:=</span> <span class="nf">getSharedState</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">state</span><span class="p">.</span><span class="nx">Email</span> <span class="p">=</span> <span class="nx">email</span>
</span></span><span class="line"><span class="cl">    <span class="nx">state</span><span class="p">.</span><span class="nx">Password</span> <span class="p">=</span> <span class="nx">password</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">ctx</span><span class="p">,</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">whenUserClicksSignIn</span><span class="p">(</span><span class="nx">ctx</span> <span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">ctx</span><span class="p">,</span> <span class="nx">state</span> <span class="o">:=</span> <span class="nf">getSharedState</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">state</span><span class="p">.</span><span class="nx">Response</span> <span class="p">=</span> <span class="nf">simulateLogin</span><span class="p">(</span><span class="nx">state</span><span class="p">.</span><span class="nx">Email</span><span class="p">,</span> <span class="nx">state</span><span class="p">.</span><span class="nx">Password</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">ctx</span><span class="p">,</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">thenLoginShouldFail</span><span class="p">(</span><span class="nx">ctx</span> <span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span> <span class="nx">expected</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">_</span><span class="p">,</span> <span class="nx">state</span> <span class="o">:=</span> <span class="nf">getSharedState</span><span class="p">(</span><span class="nx">ctx</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nx">state</span><span class="p">.</span><span class="nx">Response</span> <span class="o">!=</span> <span class="nx">expected</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nx">ctx</span><span class="p">,</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Errorf</span><span class="p">(</span><span class="s">&#34;expected %s, got %s&#34;</span><span class="p">,</span> <span class="nx">expected</span><span class="p">,</span> <span class="nx">state</span><span class="p">.</span><span class="nx">Response</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">ctx</span><span class="p">,</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><ul>
<li>This ensures each scenario runs in isolation, safely and predictably.</li>
</ul>
<h1 id="why-bdd-matters">Why BDD Matters<a href="#why-bdd-matters" class="hanchor" ariaLabel="Anchor">#</a> </h1>
<p>BDD brings meaning back to testing.
It’s not about fancy syntax or cucumber-green outputs — it’s about ensuring your system behaves as intended, in terms that humans and machines can both understand.</p>
<p>In Go, <strong>GoDog</strong> makes this possible without losing the language’s pragmatic simplicity.</p>
<p><em>Write tests that tell stories and let your behaviors speak louder than your assertions.</em></p>
      </div></div>

  

  
    

  
</article>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>© 2025 Powered by <a href="https://gohugo.io">Hugo</a></span>
    
      <span>:: <a href="https://github.com/panr/hugo-theme-terminal" target="_blank">Theme</a> made by <a href="https://github.com/panr" target="_blank">panr</a></span>
      </div>
  </div>
</footer>






<script type="text/javascript" src="/bundle.min.js"></script>





  
</div>

</body>
</html>
